{"version":3,"sources":["../../../src/app/models/index.js"],"names":["knex","knexConfig","NODE_ENV","Model","modelUuid","modelUnique","fields","identifiers","baseModel","args","throwIfNotFound","visibility","DBErrors"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMA,IAAI,GAAG,sBAAKC,qBAAWC,gBAAX,CAAL,CAAb;;AAEAC,iBAAMH,IAAN,CAAWA,IAAX;;AAEO,IAAMI,SAAS,GAAG,gCAAlB,C,CACP;;;AACO,IAAMC,WAAW,GAAG,iCAAiB;AAC1CC,EAAAA,MAAM,EAAE,CAAC,cAAD,CADkC;AAE1CC,EAAAA,WAAW,EAAE,CAAC,IAAD;AAF6B,CAAjB,CAApB;;;IAKMC,S;;;;;;;;;;;;WACX,iBAAsB;AAAA;;AAAA,wCAANC,IAAM;AAANA,QAAAA,IAAM;AAAA;;AACpB,aAAO,4HAAeA,IAAf,GAAqBC,eAArB,EAAP;AACD;;;EAH4B,sBAAMP,gBAAN,EAAa,CAACQ,+BAAD,EAAaC,2BAAb,CAAb,C;;;eAMhB;AAAEJ,EAAAA,SAAS,EAATA,SAAF;AAAaJ,EAAAA,SAAS,EAATA,SAAb;AAAwBC,EAAAA,WAAW,EAAXA;AAAxB,C","sourcesContent":["import { Model, mixin } from 'objection'\nimport Knex from 'knex'\nimport guid from 'objection-guid'\nimport visibility from 'objection-visibility'\nimport { DBErrors } from 'objection-db-errors'\nimport objection_unique from 'objection-unique'\nimport knexConfig from '../../db/knexfile'\nimport { NODE_ENV } from '../config'\n\nconst knex = Knex(knexConfig[NODE_ENV])\n\nModel.knex(knex)\n\nexport const modelUuid = guid()\n// Import the plugin.\nexport const modelUnique = objection_unique({\n  fields: ['phone_number'],\n  identifiers: ['id']\n})\n\nexport class baseModel extends mixin(Model, [visibility, DBErrors]) {\n  static query(...args) {\n    return super.query(...args).throwIfNotFound()\n  }\n}\n\nexport default { baseModel, modelUuid, modelUnique }\n"],"file":"index.js"}