{"version":3,"sources":["../../../src/db/migrations/20210215171009_users.js"],"names":["exports","up","knex","schema","raw","createTable","table","uuid","primary","notNullable","defaultTo","string","unique","specificType","enu","date","timestamps","down","dropTable"],"mappings":";;AAAAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CACJC,GADI,CACA,uCADA,EAEJC,WAFI,CAEQ,OAFR,EAEiB,UAAAC,KAAK,EAAI;AAC7BA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,OAAjB,GAA2BC,WAA3B;AACAH,IAAAA,KAAK,WAAL,CAAc,QAAd,EAAwBG,WAAxB,GAAsCC,SAAtC,CAAgD,IAAhD;AACAJ,IAAAA,KAAK,CAACK,MAAN,CAAa,UAAb,EAAyBC,MAAzB;AACAN,IAAAA,KAAK,CAACO,YAAN,CAAmB,OAAnB,EAA4B,QAA5B;AACAP,IAAAA,KAAK,WAAL,CAAc,iBAAd,EAAiCG,WAAjC,GAA+CC,SAA/C,CAAyD,KAAzD;AACAJ,IAAAA,KAAK,CAACK,MAAN,CAAa,qBAAb,EAAoCC,MAApC;AACAN,IAAAA,KAAK,CAACK,MAAN,CAAa,MAAb,EAAqBF,WAArB;AAEAH,IAAAA,KAAK,CAACK,MAAN,CAAa,YAAb;AACAL,IAAAA,KAAK,CAACK,MAAN,CAAa,WAAb;AAEAL,IAAAA,KAAK,CAACK,MAAN,CAAa,YAAb;AACAL,IAAAA,KAAK,CAACK,MAAN,CAAa,cAAb,EAA6BC,MAA7B,GAAsCH,WAAtC;AACAH,IAAAA,KAAK,CACFQ,GADH,CACO,aADP,EACsB,CAAC,MAAD,EAAS,QAAT,EAAmB,aAAnB,CADtB,EACyD,EADzD,EAEGJ,SAFH,CAEa,aAFb;AAGAJ,IAAAA,KAAK,CAACS,IAAN,CAAW,KAAX;AACAT,IAAAA,KAAK,CAACK,MAAN,CAAa,UAAb;AACAL,IAAAA,KAAK,CAACK,MAAN,CAAa,SAAb,EAAwBF,WAAxB,GAAsCC,SAAtC,CAAgD,GAAhD;AAEAJ,IAAAA,KAAK,CAACK,MAAN,CAAa,sBAAb,EAAqCC,MAArC;AACAN,IAAAA,KAAK,CAACK,MAAN,CAAa,SAAb,EAAwBF,WAAxB;AACAH,IAAAA,KAAK,CAACQ,GAAN,CAAU,gBAAV,EAA4B,CAAC,QAAD,EAAW,SAAX,CAA5B,EAAmD,EAAnD,EAAuDJ,SAAvD,CAAiE,QAAjE;AACAJ,IAAAA,KAAK,CAACK,MAAN,CAAa,mBAAb,EAAkCF,WAAlC;AACAH,IAAAA,KAAK,CAACK,MAAN,CAAa,wBAAb,EAAuCF,WAAvC;AACAH,IAAAA,KAAK,CAACK,MAAN,CAAa,kBAAb,EAAiCF,WAAjC;AACAH,IAAAA,KAAK,CAACK,MAAN,CAAa,aAAb;AACAL,IAAAA,KAAK,CAACK,MAAN,CAAa,aAAb,EAA4BC,MAA5B,GAAqCH,WAArC;AAEAH,IAAAA,KAAK,CAACU,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GAjCI,CAAP;AAkCD,CAnCD;;AAqCAhB,OAAO,CAACiB,IAAR,GAAe,UAAUf,IAAV,EAAgB;AAC7B,SAAOA,IAAI,CAACC,MAAL,CAAYe,SAAZ,CAAsB,OAAtB,CAAP;AACD,CAFD","sourcesContent":["exports.up = function (knex) {\n  return knex.schema\n    .raw('CREATE EXTENSION IF NOT EXISTS CITEXT')\n    .createTable('users', table => {\n      table.uuid('id').primary().notNullable()\n      table.boolean('active').notNullable().defaultTo(true)\n      table.string('username').unique()\n      table.specificType('email', 'CITEXT')\n      table.boolean('email_confirmed').notNullable().defaultTo(false)\n      table.string('email_confirm_token').unique()\n      table.string('role').notNullable()\n\n      table.string('first_name')\n      table.string('last_name')\n\n      table.string('other_name')\n      table.string('phone_number').unique().notNullable()\n      table\n        .enu('user_gender', ['male', 'female', 'unspecified'], {})\n        .defaultTo('unspecified')\n      table.date('dob')\n      table.string('password')\n      table.string('balance').notNullable().defaultTo('0')\n\n      table.string('password_reset_token').unique()\n      table.string('address').notNullable()\n      table.enu('marital_status', ['single', 'married'], {}).defaultTo('Single')\n      table.string('employment_status').notNullable()\n      table.string('educational_background').notNullable()\n      table.string('baptismal_status').notNullable()\n      table.string('profile_url')\n      table.string('member_code').unique().notNullable()\n\n      table.timestamps(true, true)\n    })\n}\n\nexports.down = function (knex) {\n  return knex.schema.dropTable('users')\n}\n"],"file":"20210215171009_users.js"}