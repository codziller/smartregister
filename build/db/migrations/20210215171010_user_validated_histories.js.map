{"version":3,"sources":["../../../src/db/migrations/20210215171010_user_validated_histories.js"],"names":["exports","up","knex","schema","raw","createTable","table","uuid","unique","primary","notNullable","references","inTable","onDelete","date","time","timestamps","down","dropTable"],"mappings":";;AAAAA,OAAO,CAACC,EAAR,GAAa,UAAUC,IAAV,EAAgB;AAC3B,SAAOA,IAAI,CAACC,MAAL,CACJC,GADI,CACA,uCADA,EAEJC,WAFI,CAEQ,0BAFR,EAEoC,UAAAC,KAAK,EAAI;AAChDA,IAAAA,KAAK,CAACC,IAAN,CAAW,IAAX,EAAiBC,MAAjB,GAA0BC,OAA1B,GAAoCC,WAApC;AACAJ,IAAAA,KAAK,CACFC,IADH,CACQ,SADR,EAEGI,UAFH,CAEc,IAFd,EAGGC,OAHH,CAGW,OAHX,EAIGC,QAJH,CAIY,SAJZ,EAKGH,WALH;AAMAJ,IAAAA,KAAK,CAACQ,IAAN,CAAW,gBAAX,EAA6BJ,WAA7B;AACAJ,IAAAA,KAAK,CAACS,IAAN,CAAW,gBAAX,EAA6BL,WAA7B;AACAJ,IAAAA,KAAK,CACFC,IADH,CACQ,UADR,EAEGI,UAFH,CAEc,IAFd,EAGGC,OAHH,CAGW,OAHX,EAIGC,QAJH,CAIY,SAJZ,EAKGH,WALH;AAOAJ,IAAAA,KAAK,CAACU,UAAN,CAAiB,IAAjB,EAAuB,IAAvB;AACD,GApBI,CAAP;AAqBD,CAtBD;;AAwBAhB,OAAO,CAACiB,IAAR,GAAe,UAAUf,IAAV,EAAgB;AAC7B,SAAOA,IAAI,CAACC,MAAL,CAAYe,SAAZ,CAAsB,0BAAtB,CAAP;AACD,CAFD","sourcesContent":["exports.up = function (knex) {\n  return knex.schema\n    .raw('CREATE EXTENSION IF NOT EXISTS CITEXT')\n    .createTable('user_validated_histories', table => {\n      table.uuid('id').unique().primary().notNullable()\n      table\n        .uuid('user_id')\n        .references('id')\n        .inTable('users')\n        .onDelete('CASCADE')\n        .notNullable()\n      table.date('validated_date').notNullable()\n      table.time('validated_time').notNullable()\n      table\n        .uuid('admin_id')\n        .references('id')\n        .inTable('users')\n        .onDelete('CASCADE')\n        .notNullable()\n\n      table.timestamps(true, true)\n    })\n}\n\nexports.down = function (knex) {\n  return knex.schema.dropTable('user_validated_histories')\n}\n"],"file":"20210215171010_user_validated_histories.js"}