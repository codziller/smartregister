{"version":3,"sources":["../../../src/db/seeds/api_keys.js"],"names":["require","APP_KEY","seed","knex","del","insert","id","key","value","active"],"mappings":";;;;;;;;;;;;;AAAA;;eAEoBA,OAAO,oB;IAAnBC,O,YAAAA,O;;AAED,IAAMC,IAAI;AAAA,2FAAG,iBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEZA,IAAI,CAAC,UAAD,CAAJ,CAAiBC,GAAjB,EAFY;;AAAA;AAAA;AAAA,mBAeZD,IAAI,CAAC,UAAD,CAAJ,CAAiBE,MAAjB,CAAwB,CAC5B;AACEC,cAAAA,EAAE,EAAE,eADN;AAEEC,cAAAA,GAAG,EAAE,SAFP;AAGEC,cAAAA,KAAK,EAAEP,OAHT;AAIEQ,cAAAA,MAAM,EAAE;AAJV,aAD4B,CAO5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlB4B,aAAxB,CAfY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAJP,IAAI;AAAA;AAAA;AAAA,GAAV","sourcesContent":["import { v4 } from 'uuid'\n\nconst { APP_KEY } = require('../../app/config')\n\nexport const seed = async knex => {\n  // Deletes ALL existing entries\n  await knex('api_keys').del()\n\n  // // Fetch fin-flux token\n  // const { success, data } = await finFlux.authenticate({ save: false })\n\n  // let access_token = v4()\n  // let refresh_token = v4()\n\n  // if (success) {\n  //   access_token = data.access_token\n  //   refresh_token = data.refresh_token\n  // }\n\n  await knex('api_keys').insert([\n    {\n      id: v4(),\n      key: 'APP_KEY',\n      value: APP_KEY,\n      active: true\n    }\n    // {\n    //   id: v4(),\n    //   key: 'FIN_FLUX_ACCESS_TOKEN',\n    //   value: access_token,\n    //   active: true\n    // },\n    // {\n    //   id: v4(),\n    //   key: 'FIN_FLUX_REFRESH_TOKEN',\n    //   value: refresh_token,\n    //   active: true\n    // }\n  ])\n}\n"],"file":"api_keys.js"}